<html>
<head>
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.css">

    <style>
        html {
            font-family: Tahoma;
            font-size: 14px;
        }
        pre {
            overflow: auto;
        }
        pre .string { color: #885800; }
        pre .number { color: blue; }
        pre .boolean { color: magenta; }
        pre .null { color: red; }
        pre .key { color: green; }
    </style>
</head>

<body>
<h1 class="text-center">Demo of vue-form-generator</h1>
<div class="container" id="app">
    <div class="panel panel-default">
        <div class="panel-heading">Form</div>
        <div class="panel-body">
            <vue-form-generator :schema="schema", :model="model", :options="formOptions"></vue-form-generator>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">Model</div>
        <div class="panel-body">
            <pre v-if="model">{{{ model | prettyJSON }}}</pre>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">Schema</div>
        <div class="panel-body">
            <pre v-if="model">{{{ schema | prettyJSON }}}</pre>
        </div>
    </div>
</div>

<script src="https://cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.21/vue.min.js"></script>
<script src="https://rawgit.com/icebob/vue-form-generator/master/dist/vue-form-generator.js"></script>

<script>
    var vm = new Vue({
        el: "#app",
        components: {
            "vue-form-generator": VueFormGenerator.component
        },

        filters: {
            prettyJSON: function(json) {
                if (json) {
                    json = JSON.stringify(json, undefined, 4);
                    json = json.replace(/&/g, '&').replace(/</g, '<').replace(/>/g, '>');
                    return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function(match) {
                        var cls = 'number';
                        if (/^"/.test(match)) {
                            if (/:$/.test(match)) {
                                cls = 'key';
                            } else {
                                cls = 'string';
                            }
                        } else if (/true|false/.test(match)) {
                            cls = 'boolean';
                        } else if (/null/.test(match)) {
                            cls = 'null';
                        }
                        return '<span class="' + cls + '">' + match + '</span>';
                    });
                }
            }
        },

        data: {
            model: {
                id: 1,
                name: "John Doe",
                password: "J0hnD03!x4",
                skills: ["Javascript", "VueJS"],
                email: "john.doe@gmail.com",
                status: true
            },
            schema: {
                fields: [{
                    type: "text",
                    label: "ID",
                    model: "id",
                    readonly: true,
                    featured: false,
                    disabled: true
                }, {
                    type: "text",
                    label: "Name",
                    model: "name",
                    readonly: false,
                    featured: true,
                    required: true,
                    disabled: false,
                    placeholder: "User's name",
                    validator: VueFormGenerator.validators.string
                }, {
                    type: "password",
                    label: "Password",
                    model: "password",
                    min: 6,
                    required: true,
                    hint: "Minimum 6 characters",
                    validator: VueFormGenerator.validators.string
                }, {
                    type: "email",
                    label: "E-mail",
                    model: "email",
                    placeholder: "User's e-mail address",
                    validator: VueFormGenerator.validators.email
                }, {
                    type: "checklist",
                    label: "Skills",
                    model: "skills",
                    multi: true,
                    required: true,
                    multiSelect: true,
                    values: ["HTML5", "Javascript", "CSS3", "CoffeeScript", "AngularJS", "ReactJS", "VueJS"]
                }, {
                    type: "checkbox",
                    label: "Status",
                    model: "status",
                    multi: true,
                    readonly: false,
                    featured: false,
                    disabled: false,
                    default: true
                }]
            },

            formOptions: {
                validateAfterLoad: true,
                validateAfterChanged: true
            }
        }
    });
</script>
</body>
</html>